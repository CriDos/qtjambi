<project default="compile" basedir=".">

    <property name="MailLogger.mailhost" value="smtp.trolltech.com" />
    <property name="MailLogger.from" value="[ant-mail]" />
    <property name="MailLogger.failure.notify" value="true" />
    <property name="MailLogger.success.notify" value="true" />
    <property name="MailLogger.failure.to" value="hfroilan@trolltech.com" />
    <property name="MailLogger.success.to" value="hfroilan@trolltech.com" />

    <tstamp/>

    <target name="init">
        <property name="sourceDir" value="." />
        <property name="outputDir" value="classes" />
        <property name="reportDir" value="reports" />
        <property name="htmlDir"   value="/var/www/junit/" />

        <property name="jambiLib" value="./lib" />
        <property name="qtLib" value="./../../qt-4.2.0/lib" />

        <property name="deployDir" value="./deploy" />
    </target>

    <target name="clean" depends="init">
        <delete dir="${outputDir}" />
    </target>

    <target name="clean.report" depends="init">
         <delete dir="${reportDir}" />
    </target>

    <target name="prepare" depends="clean">
        <mkdir dir="${outputDir}" />
        <mkdir dir="${outputDir}/com/trolltech/autotests" />
    </target>

    <target name="prepare.report" depends="clean.report">
        <mkdir dir="${reportDir}" />
    </target>

    <target name="sync" depends="init">
        <exec executable="p4" dir="${basedir}">
            <arg line="sync ..." />
        </exec>
    </target>

    <target name="generator" depends="prepare">
        <exec executable="qmake" dir="generator"/>
        <exec executable="make" dir="generator"/>
        <exec executable="${basedir}/generator/generator" dir="generator"/>
        <exec executable="qmake" dir=".">
            <arg line="-r"/>
        </exec>
        <exec executable="make" dir="."/>
    </target>

    <target name="juic" depends="prepare">
        <exec executable="./bin/juic" dir=".">
            <arg line="-cp ." />
            <arg line="-a" />
            <arg line="-e eclipse-integration:eclipse-stable" />
            <arg line="-d ${sourceDir}" />
        </exec>
    </target>

    <target name="generator.autotests">
        <exec executable="${basedir}/generator/generator" dir="autotestlib">
            <arg line="global.h build.txt" />
        </exec>
        <exec executable="qmake" dir="autotestlib" />
        <exec executable="make"  dir="autotestlib" />
    </target>

    <target name="generator.example" >
        <exec executable="${basedir}/generator/generator" dir="generator_example">
            <arg line="mywidget.h typesystem_mywidget.txt --juic-file=juic.xml" />
        </exec>
    </target>

    <target name="compile" depends="generator, compile.java" />

    <target name="compile.java" depends="juic">
        <javac srcdir="${sourceDir}" destdir="${outputDir}" 
               includes="
               com/trolltech/demos/ArthurFrame.java
               com/trolltech/demos/Deform.java,
               com/trolltech/demos/ImageViewer.java,
               com/trolltech/demos/TextEdit.java,
               com/trolltech/demos/imageviewer/ImageTableModel.java,
               com/trolltech/demos/imageviewer/LazyPixmap.java,
               com/trolltech/demos/imageviewer/MainWindow.java,
               com/trolltech/demos/imageviewer/Ui_AboutImageViewer.java,
               com/trolltech/demos/imageviewer/Ui_MainWindow.java,
               com/trolltech/demos/imageviewer/View.java,
               com/trolltech/examples/AnalogClock.java,
               com/trolltech/examples/Application.java,
               com/trolltech/examples/CachedTable.java,
               com/trolltech/examples/Calculator.java,
               com/trolltech/examples/CollidingMice.java,
               com/trolltech/examples/CustomFilter.java,
               com/trolltech/examples/ItemviewChart.java,
               com/trolltech/examples/LineEdits.java,
               com/trolltech/examples/ResourceSystem.java,
               com/trolltech/examples/SpinBoxes.java,
               com/trolltech/examples/SqlCommon.java,
               com/trolltech/examples/SyntaxHighlighter.java,
               com/trolltech/examples/SystemTrayExample.java,
               com/trolltech/examples/Tetrix.java,
               com/trolltech/examples/Ui_CalculatorDockable.java,
               com/trolltech/examples/Ui_CalculatorNormal.java,
               com/trolltech/examples/Ui_CalculatorSimple.java,
               com/trolltech/examples/Wiggly.java,
               com/trolltech/launcher/CustomListView.java,
               com/trolltech/launcher/Delegate.java,
               com/trolltech/launcher/Launchable.java,
               com/trolltech/launcher/LaunchableListModel.java,
               com/trolltech/launcher/Launcher.java,
               com/trolltech/launcher/ScrollingHTMLView.java,
               com/trolltech/launcher/Style.java,
               com/trolltech/launcher/Ui_Launcher.java,
               com/trolltech/launcher/Worker.java,
               com/trolltech/qt/QClassPathFileEngineHandler.java,
               com/trolltech/qt/QFlags.java,
               com/trolltech/qt/QNativePointer.java,
               com/trolltech/qt/QNoImplementationException.java,
               com/trolltech/qt/QNoNativeResourcesException.java,
               com/trolltech/qt/QNoSuchEnumValueException.java,
               com/trolltech/qt/QNoSuchSignalException.java,
               com/trolltech/qt/QNoSuchSlotException.java,
               com/trolltech/qt/QNonVirtualOverridingException.java,
               com/trolltech/qt/QPaintingOutsidePaintEventException.java,
               com/trolltech/qt/QPair.java,
               com/trolltech/qt/QSysInfo.java,
               com/trolltech/qt/QThreadManager.java,
               com/trolltech/qt/QVariant.java,
               com/trolltech/qt/QtEnumerator.java,
               com/trolltech/qt/QtInfo.java,
               com/trolltech/qt/QtJambi.java,
               com/trolltech/qt/QtJambiInternal.java,
               com/trolltech/qt/QtJambiUtils.java,
               com/trolltech/qt/QtJambi_LibraryInitializer.java,
               com/trolltech/qt/QtObject.java,
               com/trolltech/qt/QtObjectInterface.java,
               com/trolltech/qt/Utilities.java,
               com/trolltech/qt/core/QAbstractEventDispatcher.java,
               com/trolltech/qt/core/QAbstractFileEngine.java,
               com/trolltech/qt/core/QAbstractFileEngineHandler.java,
               com/trolltech/qt/core/QAbstractItemModel.java,
               com/trolltech/qt/core/QAbstractListModel.java,
               com/trolltech/qt/core/QBasicTimer.java,
               com/trolltech/qt/core/QBitArray.java,
               com/trolltech/qt/core/QBuffer.java,
               com/trolltech/qt/core/QByteArray.java,
               com/trolltech/qt/core/QByteArrayMatcher.java,
               com/trolltech/qt/core/QChildEvent.java,
               com/trolltech/qt/core/QCoreApplication.java,
               com/trolltech/qt/core/QDataStream.java,
               com/trolltech/qt/core/QDate.java,
               com/trolltech/qt/core/QDateTime.java,
               com/trolltech/qt/core/QDir.java,
               com/trolltech/qt/core/QDynamicPropertyChangeEvent.java,
               com/trolltech/qt/core/QEvent.java,
               com/trolltech/qt/core/QEventLoop.java,
               com/trolltech/qt/core/QFSFileEngine.java,
               com/trolltech/qt/core/QFile.java,
               com/trolltech/qt/core/QFileInfo.java,
               com/trolltech/qt/core/QFileSystemWatcher.java,
               com/trolltech/qt/core/QIODevice.java,
               com/trolltech/qt/core/QInvokable.java,
               com/trolltech/qt/core/QLibraryInfo.java,
               com/trolltech/qt/core/QLocale.java,
               com/trolltech/qt/core/QMetaClassInfo.java,
               com/trolltech/qt/core/QMetaEnum.java,
               com/trolltech/qt/core/QMetaMethod.java,
               com/trolltech/qt/core/QMetaProperty.java,
               com/trolltech/qt/core/QModelIndex.java,
               com/trolltech/qt/core/QMutex.java,
               com/trolltech/qt/core/QObject.java,
               com/trolltech/qt/core/QPersistentModelIndex.java,
               com/trolltech/qt/core/QPoint.java,
               com/trolltech/qt/core/QPointF.java,
               com/trolltech/qt/core/QProcess.java,
               com/trolltech/qt/core/QRect.java,
               com/trolltech/qt/core/QRectF.java,
               com/trolltech/qt/core/QRegExp.java,
               com/trolltech/qt/core/QSemaphore.java,
               com/trolltech/qt/core/QSettings.java,
               com/trolltech/qt/core/QSignalMapper.java,
               com/trolltech/qt/core/QSize.java,
               com/trolltech/qt/core/QSizeF.java,
               com/trolltech/qt/core/QSocketNotifier.java,
               com/trolltech/qt/core/QStringMatcher.java,
               com/trolltech/qt/core/QSystemLocale.java,
               com/trolltech/qt/core/QTemporaryFile.java,
               com/trolltech/qt/core/QTextCodec.java,
               com/trolltech/qt/core/QTextCodec_ConverterState.java,
               com/trolltech/qt/core/QTextDecoder.java,
               com/trolltech/qt/core/QTextEncoder.java,
               com/trolltech/qt/core/QTextStream.java,
               com/trolltech/qt/core/QTime.java,
               com/trolltech/qt/core/QTimeLine.java,
               com/trolltech/qt/core/QTimer.java,
               com/trolltech/qt/core/QTimerEvent.java,
               com/trolltech/qt/core/QTranslator.java,
               com/trolltech/qt/core/QUrl.java,
               com/trolltech/qt/core/QUuid.java,
               com/trolltech/qt/core/QWaitCondition.java,
               com/trolltech/qt/core/Qt.java,
               com/trolltech/qt/core/QtJambi_LibraryInitializer.java,
               com/trolltech/qt/gui/QAbstractButton.java,
               com/trolltech/qt/gui/QAbstractGraphicsShapeItem.java,
               com/trolltech/qt/gui/QAbstractItemDelegate.java,
               com/trolltech/qt/gui/QAbstractItemView.java,
               com/trolltech/qt/gui/QAbstractPageSetupDialog.java,
               com/trolltech/qt/gui/QAbstractPrintDialog.java,
               com/trolltech/qt/gui/QAbstractProxyModel.java,
               com/trolltech/qt/gui/QAbstractScrollArea.java,
               com/trolltech/qt/gui/QAbstractSlider.java,
               com/trolltech/qt/gui/QAbstractSpinBox.java,
               com/trolltech/qt/gui/QAbstractTableModel.java,
               com/trolltech/qt/gui/QAbstractTextDocumentLayout.java,
               com/trolltech/qt/gui/QAbstractTextDocumentLayout_PaintContext.java,
               com/trolltech/qt/gui/QAccessible.java,
               com/trolltech/qt/gui/QAccessibleBridge.java,
               com/trolltech/qt/gui/QAccessibleEvent.java,
               com/trolltech/qt/gui/QAccessibleInterface.java,
               com/trolltech/qt/gui/QAccessibleInterfaceEx.java,
               com/trolltech/qt/gui/QAccessibleObject.java,
               com/trolltech/qt/gui/QAccessibleObjectEx.java,
               com/trolltech/qt/gui/QAccessibleWidget.java,
               com/trolltech/qt/gui/QAccessibleWidgetEx.java,
               com/trolltech/qt/gui/QAction.java,
               com/trolltech/qt/gui/QActionEvent.java,
               com/trolltech/qt/gui/QActionGroup.java,
               com/trolltech/qt/gui/QApplication.java,
               com/trolltech/qt/gui/QBitmap.java,
               com/trolltech/qt/gui/QBoxLayout.java,
               com/trolltech/qt/gui/QBrush.java,
               com/trolltech/qt/gui/QButtonGroup.java,
               com/trolltech/qt/gui/QCDEStyle.java,
               com/trolltech/qt/gui/QCalendarWidget.java,
               com/trolltech/qt/gui/QCheckBox.java,
               com/trolltech/qt/gui/QCleanlooksStyle.java,
               com/trolltech/qt/gui/QClipboard.java,
               com/trolltech/qt/gui/QClipboardEvent.java,
               com/trolltech/qt/gui/QCloseEvent.java,
               com/trolltech/qt/gui/QColor.java,
               com/trolltech/qt/gui/QColorDialog.java,
               com/trolltech/qt/gui/QColormap.java,
               com/trolltech/qt/gui/QComboBox.java,
               com/trolltech/qt/gui/QCommonStyle.java,
               com/trolltech/qt/gui/QCompleter.java,
               com/trolltech/qt/gui/QConicalGradient.java,
               com/trolltech/qt/gui/QContextMenuEvent.java,
               com/trolltech/qt/gui/QCursor.java,
               com/trolltech/qt/gui/QDataWidgetMapper.java,
               com/trolltech/qt/gui/QDateEdit.java,
               com/trolltech/qt/gui/QDateTimeEdit.java,
               com/trolltech/qt/gui/QDesktopServices.java,
               com/trolltech/qt/gui/QDesktopWidget.java,
               com/trolltech/qt/gui/QDial.java,
               com/trolltech/qt/gui/QDialog.java,
               com/trolltech/qt/gui/QDialogButtonBox.java,
               com/trolltech/qt/gui/QDirModel.java,
               com/trolltech/qt/gui/QDockWidget.java,
               com/trolltech/qt/gui/QDoubleSpinBox.java,
               com/trolltech/qt/gui/QDoubleValidator.java,
               com/trolltech/qt/gui/QDrag.java,
               com/trolltech/qt/gui/QDragEnterEvent.java,
               com/trolltech/qt/gui/QDragLeaveEvent.java,
               com/trolltech/qt/gui/QDragMoveEvent.java,
               com/trolltech/qt/gui/QDragResponseEvent.java,
               com/trolltech/qt/gui/QDropEvent.java,
               com/trolltech/qt/gui/QErrorMessage.java,
               com/trolltech/qt/gui/QFileDialog.java,
               com/trolltech/qt/gui/QFileIconProvider.java,
               com/trolltech/qt/gui/QFileOpenEvent.java,
               com/trolltech/qt/gui/QFocusEvent.java,
               com/trolltech/qt/gui/QFocusFrame.java,
               com/trolltech/qt/gui/QFont.java,
               com/trolltech/qt/gui/QFontComboBox.java,
               com/trolltech/qt/gui/QFontDatabase.java,
               com/trolltech/qt/gui/QFontDialog.java,
               com/trolltech/qt/gui/QFontInfo.java,
               com/trolltech/qt/gui/QFontMetrics.java,
               com/trolltech/qt/gui/QFontMetricsF.java,
               com/trolltech/qt/gui/QFrame.java,
               com/trolltech/qt/gui/QGradient.java,
               com/trolltech/qt/gui/QGraphicsEllipseItem.java,
               com/trolltech/qt/gui/QGraphicsItem.java,
               com/trolltech/qt/gui/QGraphicsItemAnimation.java,
               com/trolltech/qt/gui/QGraphicsItemGroup.java,
               com/trolltech/qt/gui/QGraphicsItemInterface.java,
               com/trolltech/qt/gui/QGraphicsLineItem.java,
               com/trolltech/qt/gui/QGraphicsPathItem.java,
               com/trolltech/qt/gui/QGraphicsPixmapItem.java,
               com/trolltech/qt/gui/QGraphicsPolygonItem.java,
               com/trolltech/qt/gui/QGraphicsRectItem.java,
               com/trolltech/qt/gui/QGraphicsScene.java,
               com/trolltech/qt/gui/QGraphicsSceneContextMenuEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneDragDropEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneHelpEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneHoverEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneMouseEvent.java,
               com/trolltech/qt/gui/QGraphicsSceneWheelEvent.java,
               com/trolltech/qt/gui/QGraphicsSimpleTextItem.java,
               com/trolltech/qt/gui/QGraphicsTextItem.java,
               com/trolltech/qt/gui/QGraphicsView.java,
               com/trolltech/qt/gui/QGridLayout.java,
               com/trolltech/qt/gui/QGroupBox.java,
               com/trolltech/qt/gui/QHBoxLayout.java,
               com/trolltech/qt/gui/QHeaderView.java,
               com/trolltech/qt/gui/QHelpEvent.java,
               com/trolltech/qt/gui/QHideEvent.java,
               com/trolltech/qt/gui/QHoverEvent.java,
               com/trolltech/qt/gui/QIcon.java,
               com/trolltech/qt/gui/QIconDragEvent.java,
               com/trolltech/qt/gui/QIconEngine.java,
               com/trolltech/qt/gui/QImage.java,
               com/trolltech/qt/gui/QImageIOHandler.java,
               com/trolltech/qt/gui/QImageReader.java,
               com/trolltech/qt/gui/QImageWriter.java,
               com/trolltech/qt/gui/QInputContext.java,
               com/trolltech/qt/gui/QInputContextFactory.java,
               com/trolltech/qt/gui/QInputDialog.java,
               com/trolltech/qt/gui/QInputEvent.java,
               com/trolltech/qt/gui/QInputMethodEvent.java,
               com/trolltech/qt/gui/QInputMethodEvent_Attribute.java,
               com/trolltech/qt/gui/QIntValidator.java,
               com/trolltech/qt/gui/QItemDelegate.java,
               com/trolltech/qt/gui/QItemEditorCreatorBase.java,
               com/trolltech/qt/gui/QItemEditorFactory.java,
               com/trolltech/qt/gui/QItemSelection.java,
               com/trolltech/qt/gui/QItemSelectionModel.java,
               com/trolltech/qt/gui/QItemSelectionRange.java,
               com/trolltech/qt/gui/QKeyEvent.java,
               com/trolltech/qt/gui/QKeySequence.java,
               com/trolltech/qt/gui/QLCDNumber.java,
               com/trolltech/qt/gui/QLabel.java,
               com/trolltech/qt/gui/QLayout.java,
               com/trolltech/qt/gui/QLayoutItem.java,
               com/trolltech/qt/gui/QLayoutItemInterface.java,
               com/trolltech/qt/gui/QLine.java,
               com/trolltech/qt/gui/QLineEdit.java,
               com/trolltech/qt/gui/QLineF.java,
               com/trolltech/qt/gui/QLinearGradient.java,
               com/trolltech/qt/gui/QListView.java,
               com/trolltech/qt/gui/QListWidget.java,
               com/trolltech/qt/gui/QListWidgetItem.java,
               com/trolltech/qt/gui/QMainWindow.java,
               com/trolltech/qt/gui/QMatrix.java,
               com/trolltech/qt/gui/QMenu.java,
               com/trolltech/qt/gui/QMenuBar.java,
               com/trolltech/qt/gui/QMessageBox.java,
               com/trolltech/qt/gui/QMimeData.java,
               com/trolltech/qt/gui/QMotifStyle.java,
               com/trolltech/qt/gui/QMouseEvent.java,
               com/trolltech/qt/gui/QMoveEvent.java,
               com/trolltech/qt/gui/QMovie.java,
               com/trolltech/qt/gui/QPageSetupDialog.java,
               com/trolltech/qt/gui/QPaintDevice.java,
               com/trolltech/qt/gui/QPaintDeviceInterface.java,
               com/trolltech/qt/gui/QPaintEngine.java,
               com/trolltech/qt/gui/QPaintEngineState.java,
               com/trolltech/qt/gui/QPaintEvent.java,
               com/trolltech/qt/gui/QPainter.java,
               com/trolltech/qt/gui/QPainterPath.java,
               com/trolltech/qt/gui/QPainterPathStroker.java,
               com/trolltech/qt/gui/QPainterPath_Element.java,
               com/trolltech/qt/gui/QPalette.java,
               com/trolltech/qt/gui/QPen.java,
               com/trolltech/qt/gui/QPicture.java,
               com/trolltech/qt/gui/QPictureIO.java,
               com/trolltech/qt/gui/QPixmap.java,
               com/trolltech/qt/gui/QPixmapCache.java,
               com/trolltech/qt/gui/QPlastiqueStyle.java,
               com/trolltech/qt/gui/QPolygon.java,
               com/trolltech/qt/gui/QPolygonF.java,
               com/trolltech/qt/gui/QPrintDialog.java,
               com/trolltech/qt/gui/QPrintEngine.java,
               com/trolltech/qt/gui/QPrinter.java,
               com/trolltech/qt/gui/QProgressBar.java,
               com/trolltech/qt/gui/QProgressDialog.java,
               com/trolltech/qt/gui/QProxyModel.java,
               com/trolltech/qt/gui/QPushButton.java,
               com/trolltech/qt/gui/QRadialGradient.java,
               com/trolltech/qt/gui/QRadioButton.java,
               com/trolltech/qt/gui/QReadWriteLock.java,
               com/trolltech/qt/gui/QRegExpValidator.java,
               com/trolltech/qt/gui/QRegion.java,
               com/trolltech/qt/gui/QResizeEvent.java,
               com/trolltech/qt/gui/QRubberBand.java,
               com/trolltech/qt/gui/QScrollArea.java,
               com/trolltech/qt/gui/QScrollBar.java,
               com/trolltech/qt/gui/QSessionManager.java,
               com/trolltech/qt/gui/QShortcut.java,
               com/trolltech/qt/gui/QShortcutEvent.java,
               com/trolltech/qt/gui/QShowEvent.java,
               com/trolltech/qt/gui/QSizeGrip.java,
               com/trolltech/qt/gui/QSizePolicy.java,
               com/trolltech/qt/gui/QSlider.java,
               com/trolltech/qt/gui/QSortFilterProxyModel.java,
               com/trolltech/qt/gui/QSound.java,
               com/trolltech/qt/gui/QSpacerItem.java,
               com/trolltech/qt/gui/QSpinBox.java,
               com/trolltech/qt/gui/QSplashScreen.java,
               com/trolltech/qt/gui/QSplitter.java,
               com/trolltech/qt/gui/QSplitterHandle.java,
               com/trolltech/qt/gui/QStackedLayout.java,
               com/trolltech/qt/gui/QStackedWidget.java,
               com/trolltech/qt/gui/QStandardItem.java,
               com/trolltech/qt/gui/QStandardItemModel.java,
               com/trolltech/qt/gui/QStatusBar.java,
               com/trolltech/qt/gui/QStatusTipEvent.java,
               com/trolltech/qt/gui/QStringListModel.java,
               com/trolltech/qt/gui/QStyle.java,
               com/trolltech/qt/gui/QStyleFactory.java,
               com/trolltech/qt/gui/QStyleHintReturn.java,
               com/trolltech/qt/gui/QStyleHintReturnMask.java,
               com/trolltech/qt/gui/QStyleOption.java,
               com/trolltech/qt/gui/QStyleOptionButton.java,
               com/trolltech/qt/gui/QStyleOptionComboBox.java,
               com/trolltech/qt/gui/QStyleOptionComplex.java,
               com/trolltech/qt/gui/QStyleOptionDockWidget.java,
               com/trolltech/qt/gui/QStyleOptionFocusRect.java,
               com/trolltech/qt/gui/QStyleOptionFrame.java,
               com/trolltech/qt/gui/QStyleOptionFrameV2.java,
               com/trolltech/qt/gui/QStyleOptionGraphicsItem.java,
               com/trolltech/qt/gui/QStyleOptionGroupBox.java,
               com/trolltech/qt/gui/QStyleOptionHeader.java,
               com/trolltech/qt/gui/QStyleOptionMenuItem.java,
               com/trolltech/qt/gui/QStyleOptionProgressBar.java,
               com/trolltech/qt/gui/QStyleOptionProgressBarV2.java,
               com/trolltech/qt/gui/QStyleOptionRubberBand.java,
               com/trolltech/qt/gui/QStyleOptionSizeGrip.java,
               com/trolltech/qt/gui/QStyleOptionSlider.java,
               com/trolltech/qt/gui/QStyleOptionSpinBox.java,
               com/trolltech/qt/gui/QStyleOptionTab.java,
               com/trolltech/qt/gui/QStyleOptionTabBarBase.java,
               com/trolltech/qt/gui/QStyleOptionTabV2.java,
               com/trolltech/qt/gui/QStyleOptionTabWidgetFrame.java,
               com/trolltech/qt/gui/QStyleOptionTitleBar.java,
               com/trolltech/qt/gui/QStyleOptionToolBar.java,
               com/trolltech/qt/gui/QStyleOptionToolBox.java,
               com/trolltech/qt/gui/QStyleOptionToolButton.java,
               com/trolltech/qt/gui/QStyleOptionViewItem.java,
               com/trolltech/qt/gui/QStylePainter.java,
               com/trolltech/qt/gui/QSyntaxHighlighter.java,
               com/trolltech/qt/gui/QSystemTrayIcon.java,
               com/trolltech/qt/gui/QTabBar.java,
               com/trolltech/qt/gui/QTabWidget.java,
               com/trolltech/qt/gui/QTableView.java,
               com/trolltech/qt/gui/QTableWidget.java,
               com/trolltech/qt/gui/QTableWidgetItem.java,
               com/trolltech/qt/gui/QTableWidgetSelectionRange.java,
               com/trolltech/qt/gui/QTabletEvent.java,
               com/trolltech/qt/gui/QTextBlock.java,
               com/trolltech/qt/gui/QTextBlockFormat.java,
               com/trolltech/qt/gui/QTextBlockGroup.java,
               com/trolltech/qt/gui/QTextBlockUserData.java,
               com/trolltech/qt/gui/QTextBlock_iterator.java,
               com/trolltech/qt/gui/QTextBrowser.java,
               com/trolltech/qt/gui/QTextCharFormat.java,
               com/trolltech/qt/gui/QTextCursor.java,
               com/trolltech/qt/gui/QTextDocument.java,
               com/trolltech/qt/gui/QTextDocumentFragment.java,
               com/trolltech/qt/gui/QTextEdit.java,
               com/trolltech/qt/gui/QTextEdit_ExtraSelection.java,
               com/trolltech/qt/gui/QTextFormat.java,
               com/trolltech/qt/gui/QTextFragment.java,
               com/trolltech/qt/gui/QTextFrame.java,
               com/trolltech/qt/gui/QTextFrameFormat.java,
               com/trolltech/qt/gui/QTextFrame_iterator.java,
               com/trolltech/qt/gui/QTextImageFormat.java,
               com/trolltech/qt/gui/QTextInlineObject.java,
               com/trolltech/qt/gui/QTextItem.java,
               com/trolltech/qt/gui/QTextLayout.java,
               com/trolltech/qt/gui/QTextLayout_FormatRange.java,
               com/trolltech/qt/gui/QTextLength.java,
               com/trolltech/qt/gui/QTextLine.java,
               com/trolltech/qt/gui/QTextList.java,
               com/trolltech/qt/gui/QTextListFormat.java,
               com/trolltech/qt/gui/QTextObject.java,
               com/trolltech/qt/gui/QTextObjectInterface.java,
               com/trolltech/qt/gui/QTextOption.java,
               com/trolltech/qt/gui/QTextTable.java,
               com/trolltech/qt/gui/QTextTableCell.java,
               com/trolltech/qt/gui/QTextTableFormat.java,
               com/trolltech/qt/gui/QTimeEdit.java,
               com/trolltech/qt/gui/QToolBar.java,
               com/trolltech/qt/gui/QToolBarChangeEvent.java,
               com/trolltech/qt/gui/QToolBox.java,
               com/trolltech/qt/gui/QToolButton.java,
               com/trolltech/qt/gui/QToolTip.java,
               com/trolltech/qt/gui/QTreeView.java,
               com/trolltech/qt/gui/QTreeWidget.java,
               com/trolltech/qt/gui/QTreeWidgetItem.java,
               com/trolltech/qt/gui/QTreeWidgetItemIterator.java,
               com/trolltech/qt/gui/QUndoCommand.java,
               com/trolltech/qt/gui/QUndoGroup.java,
               com/trolltech/qt/gui/QUndoStack.java,
               com/trolltech/qt/gui/QUndoView.java,
               com/trolltech/qt/gui/QVBoxLayout.java,
               com/trolltech/qt/gui/QValidator.java,
               com/trolltech/qt/gui/QWhatsThis.java,
               com/trolltech/qt/gui/QWhatsThisClickedEvent.java,
               com/trolltech/qt/gui/QWheelEvent.java,
               com/trolltech/qt/gui/QWidget.java,
               com/trolltech/qt/gui/QWidgetAction.java,
               com/trolltech/qt/gui/QWidgetItem.java,
               com/trolltech/qt/gui/QWindowStateChangeEvent.java,
               com/trolltech/qt/gui/QWindowsStyle.java,
               com/trolltech/qt/gui/QWorkspace.java,
               com/trolltech/qt/gui/QtJambi_LibraryInitializer.java,
               com/trolltech/qt/opengl/QGL.java,
               com/trolltech/qt/opengl/QGLColormap.java,
               com/trolltech/qt/opengl/QGLContext.java,
               com/trolltech/qt/opengl/QGLFormat.java,
               com/trolltech/qt/opengl/QGLFramebufferObject.java,
               com/trolltech/qt/opengl/QGLPixelBuffer.java,
               com/trolltech/qt/opengl/QGLWidget.java,
               com/trolltech/qt/opengl/QtJambi_LibraryInitializer.java,
               com/trolltech/qt/sql/QSql.java,
               com/trolltech/qt/sql/QSqlDatabase.java,
               com/trolltech/qt/sql/QSqlDriver.java,
               com/trolltech/qt/sql/QSqlDriverCreatorBase.java,
               com/trolltech/qt/sql/QSqlError.java,
               com/trolltech/qt/sql/QSqlField.java,
               com/trolltech/qt/sql/QSqlIndex.java,
               com/trolltech/qt/sql/QSqlQuery.java,
               com/trolltech/qt/sql/QSqlQueryModel.java,
               com/trolltech/qt/sql/QSqlRecord.java,
               com/trolltech/qt/sql/QSqlRelation.java,
               com/trolltech/qt/sql/QSqlRelationalTableModel.java,
               com/trolltech/qt/sql/QSqlResult.java,
               com/trolltech/qt/sql/QSqlTableModel.java,
               com/trolltech/qt/sql/QtJambi_LibraryInitializer.java,
               com/trolltech/qt/svg/QSvgRenderer.java,
               com/trolltech/qt/svg/QSvgWidget.java,
               com/trolltech/qt/svg/QtJambi_LibraryInitializer.java,
               com/trolltech/tools/designer/CustomWidget.java,
               com/trolltech/tools/designer/CustomWidgetManager.java,
               com/trolltech/tools/designer/PropertySheet.java" />
    </target>

    <target name="compile.autotests" depends="generator.autotests">
        <javac srcdir="${sourceDir}" destdir="${outputDir}" 
               includes="
               com/trolltech/autotests/MyQObject.java,
               com/trolltech/autotests/QApplicationTest.java,
               com/trolltech/autotests/RunTests.java,
               com/trolltech/autotests/TestClassFunctionality.java,
               com/trolltech/autotests/TestConnections.java,
               com/trolltech/autotests/TestContainers.java,
               com/trolltech/autotests/TestFileEngine.java,
               com/trolltech/autotests/TestNativePointer.java,
               com/trolltech/autotests/TestQFlags.java,
               com/trolltech/autotests/TestQObject.java,
               com/trolltech/autotests/TestQVariant.java,
               com/trolltech/autotests/TestSignalMapper.java,
               com/trolltech/autotests/TestThreads.java,
               com/trolltech/autotests/VirtualFunctions.java" />
    </target>

    <target name="deploy.clean" depends="init">
        <delete dir="${deployDir}" />
        <mkdir dir="${deployDir}" />
    </target>

    <target name="deploy.jar" description="JARs the Task" depends="init">
        <jar destfile="${deployDir}/qtjambi.jar" basedir="${outputDir}">
            <manifest>
                <attribute name="Built-By" value="Trolltech ASA - ${TODAY}"/>
                <attribute name="Main-Class" value="com.trolltech.launcher.Launcher"/>
            </manifest>
        </jar>
    </target>

    <target name="deploy.linux" depends="deploy.clean, deploy.jar">
        <copy todir="${deployDir}/lib">
            <fileset dir="${jambiLib}">
                <include name="*.so*" />
            </fileset>
        </copy>
        <copy todir="${deployDir}/lib">
            <fileset dir="${qtLib}">
                <include name="*.so*" />
            </fileset>
        </copy>
        <copy file="bin/juic" todir="${deployDir}/bin" />
        <chmod file="${deployDir}/bin/juic" perm="+x"/>
    </target>

    <target name="deploy.zip" depends="init">
        <zip destfile="jambi-devel.zip"
             basedir="${deployDir}"/>
    </target>

    <target name="deploy.tar.gz" depends="deploy.linux">
        <tar tarfile="jambi-devel.tar" basedir="${deployDir}"/>
        <gzip zipfile="jambi-devel.tar.gz" src="jambi-devel.tar"/>
        <delete file="jambi-devel.tar" />
    </target>

    <target name="test.make" depends="init, generator.autotests, compile, compile.autotests" />

    <target name="test" depends="init, prepare.report">
        <junit printsummary="yes" haltonfailure="no">
            <!-- comment --> 
            <jvmarg value="-Djava.library.path=${qtLib}:${jambiLib}"/>
            <classpath>
                <pathelement location="${outputDir}" />
            </classpath>
            <formatter type="xml"/>
            <batchtest fork="true" todir="${reportDir}">
                <fileset dir=".">
                    <include name="**/autotests//Test*.java"/>
                </fileset>
            </batchtest>

        </junit>

        <junitreport todir="${reportDir}">
            <fileset dir="${reportDir}">
                <include name="TEST-*.xml"/>
            </fileset>
            <report format="frames" todir="${htmlDir}"/>
        </junitreport>
    </target>

    <target name="all" depends="sync, generator, compile, test.make, test ,deploy.linux" />

</project>